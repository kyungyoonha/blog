---
id: web_3
title: ※ HTTP vs HTTPs & https 서버 인증서 암호화 과정
sidebar_label: HTTP vs HTTPs & https 서버 인증서 암호화 과정
---

## 1 HTTP

-   웹 서버와 사용자 컴퓨터 사이에 설치된 브라우저 사이에 문서전송을 위한 통신규약
-   인터넷상에서 하이퍼텍스트를 전송하기위해 사용되는 통신규약이다.
-   서버는 80번 포트에서 서비스 대기, 클라이언트가 TCP80 포트에 요청하면 자료를 전송
-   텍스트를 주고받으므로 네트워크에서 신호를 인터셉트하는 경우 데이터 유출될 수 있다.

## 2 HTTPS

-   http의 보안 취약점을 해결하기 위한 프로토콜이다.
-   http에 S(Secure Socket)을 추가, 서버와 클라이언트 사이의 모든 통신 내용이 암호화된다.
-   SSL(보안 소켓 계층)을 사용하여 서버와 브라우저 사이에 안전하게 암호화된 연결 생성
    HTTPS 자료를 주고받는 경우라면 개인정보 유출이 될 수 있으므로 HTTPS가 필요
-   크롬 브라우저의 경우는 HTTP 사이트는 ‘주의 요함’ 이라고 표시됌
-   검색 엔진 최적화, 같은 키워드라도 상위 노출은 보안요소가 있는 HTTPS 사이트가 된다.

## 3. SSL 보안 소켓 계층

### 3-1 정의

-   Secure Socket Layer 웹브라우저와 서버간 암호화 통신을 위한 프로토콜
-   SSL 인증서는 제 3의 신뢰기관이 인증한 인증서

### 3-2 동작방식

1. 사용자가 웹브라우저로 사이트에 접속하면 서버측에 SSL로 암호화된 페이지를 요청한다
2. 웹서버는 인증서를 웹 브라우저에게 보낸다. 이 인증서에는 사이트의 정보와 공개키가 인증기관의 개인키로 암호화된 상태로 보내진다.
3. 웹 브라우저는 이미 가지고 있는 인증기간의 공개키로 웹 서버에서 받은 인증서를 복호화하고 정보를 확인한다. 이때 인증서가 자신이 신용하고 있다고 판단한 CA로부터 서명된 것인지 여부와유효 날짜, 사이트 등의 정보를 검증한다.
4. 웹 브라우저는 대칭키를 생성하고 인증서에서 꺼낸 웹 서버측의 공개키로 암호화하여 웹 서버로 보낸다.
5. 웹서버는 자신이 가지고 있는 개인키로 웹 브라우저의 대칭키를 복호화하고 이 대칭키를 이용하여 데이터를 암호화하고 브라우저와 주고받는다

### 3-3 출처

-   https://post.naver.com/viewer/postView.nhn?volumeNo=16561296&memberNo=1834
-   https://offbyone.tistory.com/274
-   https://wiki.kldp.org/HOWTO/html/SSL-Certificates-HOWTO/x70.html

## 4 http 통신 VS Socket 통신

### 4-1

-   Client가 요청을 보내는 경우에만 Server가 응답하는 단방향 통신
-   Server로부터 응답을 받는 후에는 연결이 바로 종료된다.
-   실시간 연결이 아니고, 필요한 경우에만 Server로 요청보내는 상황에 유용하다.
-   요청을 보내 Server의 응답을 기다리는 어플리케이션의 개발에 주로 이용된다.

### 4-2 Socket 통신

-   Server와 Client가 특정 Port를 통해 실시간으로 양방향 통신을 하는 방식
-   Server와 Client가 계속 연결을 유지하는 양방향 통신이다.
-   실시간으로 데이터를 주고받는 상황이 필요한 경우에 사용된다.
-   실시간 동영상 Streaming이나 온라인 게임
-   Server 역시 Client로 요청을 보낼 수 있다.

| 분류   | 이미지                             |
| ------ | ---------------------------------- |
| http   | ![HTTP 통신](/img/web/web_3_1.png) |
| Socket | ![HTTP 통신](/img/web/web_3_2.png) |

### 4-3 출처

-   https://mangkyu.tistory.com/48
